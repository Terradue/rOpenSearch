<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    
    <head>
        
        <meta charset="UTF-8">
        <title>Geo-hazards SAR data | rOpenSearch</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 0.5.6">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <meta name="author" content="Terradue">
    
    
    
    <link rel="prev" href="../section3/occurrences.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book" data-github="Terradue/rOpenSearch" data-level="3.2" data-basepath=".." data-revision="1403783168094">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="https://github.com/Terradue/rOpenSearch" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/Terradue/rOpenSearch/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/Terradue/rOpenSearch/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >rOpenSearch</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="https://github.com/Terradue" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/Terradue/rOpenSearch/issues" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/Terradue/rOpenSearch/edit/master/section3/geohazards.md" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="section1/opensearch.html">
            
                
                    <a href="../section1/opensearch.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         What is OpenSearch
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="section1/osd.html">
            
                
                    <a href="../section1/osd.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         OpenSearch Description
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="section1/geotimeextensions.html">
            
                
                    <a href="../section1/geotimeextensions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         Geo and Time Extensions
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="section2/installation.html">
            
                
                    <a href="../section2/installation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Installation
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="section2/release.html">
            
                
                    <a href="../section2/release.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         Installing a release
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="section2/development.html">
            
                
                    <a href="../section2/development.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         Installing the development version
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="section3/started.html">
            
                
                    <a href="../section3/started.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Getting started
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="section3/occurrences.html">
            
                
                    <a href="../section3/occurrences.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         MERIS and species occurrences
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="section3/geohazards.html">
            
                
                    <a href="../section3/geohazards.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         Geo-hazards SAR data
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 100%;min-width: 88.88888888888889%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../section1/opensearch.html" title="What is OpenSearch" class="chapter done new-chapter" data-progress="1" style="left: 11.11111111111111%;"></a>
    
        <a href="../section1/osd.html" title="OpenSearch Description" class="chapter done " data-progress="1.1" style="left: 22.22222222222222%;"></a>
    
        <a href="../section1/geotimeextensions.html" title="Geo and Time Extensions" class="chapter done " data-progress="1.2" style="left: 33.333333333333336%;"></a>
    
        <a href="../section2/installation.html" title="Installation" class="chapter done new-chapter" data-progress="2" style="left: 44.44444444444444%;"></a>
    
        <a href="../section2/release.html" title="Installing a release" class="chapter done " data-progress="2.1" style="left: 55.55555555555556%;"></a>
    
        <a href="../section2/development.html" title="Installing the development version" class="chapter done " data-progress="2.2" style="left: 66.66666666666667%;"></a>
    
        <a href="../section3/started.html" title="Getting started" class="chapter done new-chapter" data-progress="3" style="left: 77.77777777777777%;"></a>
    
        <a href="../section3/occurrences.html" title="MERIS and species occurrences" class="chapter done " data-progress="3.1" style="left: 88.88888888888889%;"></a>
    
        <a href="../section3/geohazards.html" title="Geo-hazards SAR data" class="chapter done " data-progress="3.2" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_8">
                    
                        <h1 id="geohazards">Geohazards</h1>
<h2 id="the-european-space-agency-virtual-archive">The European Space Agency Virtual Archive</h2>
<p>Virtual Archives are online archives that provide an easy access to EO data by coupling high bandwidth, large storage space and software. The Virtual Archive 4 provides a Cloud based service for storing and providing access to ESA Synthetic Aperture Radar (SAR) data.</p>
<p>This virtual archive represents ESA contribution to the supersites initiative. This huge amount of SAR data (today nearly ninty thousand products are hosted on Virtual Archive 4) is accessible to science communities dealing with interferometry, landslide and change detection</p>
<h2 id="use-ropensearch-to-query-the-virtual-archive-envisat-asar-image-mode-level-0-data">Use rOpenSearch to query the Virtual Archive Envisat ASAR Image Mode Level 0 data</h2>
<p>This example will return the 100 first dataset spanning time interval 2010-01-01 to 2010-01-31</p>
<ol>
<li>Load the required packages with:</li>
</ol>
<pre><code class="lang-r"><span class="hljs-comment"># load the libraries</span>
<span class="hljs-keyword">library</span>(devtools)
<span class="hljs-keyword">library</span>(rgdal)
<span class="hljs-keyword">library</span>(rgeos)
<span class="hljs-keyword">library</span>(rOpenSearch)
</code></pre>
<ol>
<li>Define the OpenSearch description URL</li>
</ol>
<pre><code class="lang-r">osd.url &lt;- <span class="hljs-string">"http://eo-virtual-archive4.esa.int/search/ASA_IM__0P/description"</span>
</code></pre>
<ol>
<li>Get the list of OpenSearch response types:</li>
</ol>
<pre><code class="lang-r">GetOSResponseFormats(osd.url)
</code></pre>
<pre><code>## [1] &quot;application/rdf+xml&quot;                 
## [2] &quot;text/plain&quot;                          
## [3] &quot;text/tab-separated-values&quot;           
## [4] &quot;text/html&quot;                           
## [5] &quot;application/vnd.google-earth.kml+xml&quot;
## [6] &quot;application/atom+xml&quot;
</code></pre><ol>
<li>Set the OpenSearch response type to use:</li>
</ol>
<pre><code class="lang-r">response.type &lt;- <span class="hljs-string">"application/rdf+xml"</span>
</code></pre>
<ol>
<li>get the queryables dataframe from the OpenSearch description URL
df.params &lt;- GetOSQueryables(osd.url, response.type)</li>
</ol>
<h1 id="define-the-values-for-the-queryables">define the values for the queryables</h1>
<p>df.params$value[df.params$type == &quot;count&quot;] &lt;- 30 
df.params$value[df.params$type == &quot;time:start&quot;] &lt;- &quot;2010-01-01&quot;
df.params$value[df.params$type == &quot;time:end&quot;] &lt;- &quot;2010-01-31&quot;</p>
<h1 id="submit-the-query">submit the query</h1>
<p>res &lt;- Query(osd.url, response.type, df.params)</p>
<h1 id="get-the-dataset">get the dataset</h1>
<p>dataset &lt;- xmlToDataFrame(nodes = getNodeSet(xmlParse(res), 
  &quot;//dclite4g:DataSet&quot;), stringsAsFactors = FALSE)</p>
<h1 id="create-a-spatialpolygonsdataframe-with-the-first-element-of-res-dataset">create a SpatialPolygonsDataFrame with the first element of res$dataset</h1>
<p>poly.sp &lt;- SpatialPolygonsDataFrame(readWKT(data.frame(dataset$spatial)[1,]), dataset[1,])</p>
<h1 id="iterate-through-the-remaining-dataset">iterate through the remaining dataset</h1>
<p>for (n in 2:nrow(dataset)) {
  poly.sp &lt;- rbind(poly.sp,
    SpatialPolygonsDataFrame(readWKT(data.frame(dataset$spatial)[n,],id=n), dataset[n,]))
}</p>
<h1 id="write-the-geojson-file">write the geojson file</h1>
<p>writeOGR(poly.sp, &#39;example1.geojson&#39;,&#39;dataMap&#39;, driver=&#39;GeoJSON&#39;)</p>
<p>The GeoJSON file can be see here: <a href="https://github.com/Terradue/rOpenSearch/blob/master/src/main/R/examples/example1.geojson" target="_blank">https://github.com/Terradue/rOpenSearch/blob/master/src/main/R/examples/example1.geojson</a></p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../section3/occurrences.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: MERIS and species occurrences"><i class="fa fa-angle-left"></i></a>
        
        
    </div>
</div>

        
<script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
<script src="../gitbook/app.js"></script>

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
